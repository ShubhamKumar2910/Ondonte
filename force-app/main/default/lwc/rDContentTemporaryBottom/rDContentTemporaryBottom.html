<template>
    <template if:true={loaded}>
        <lightning-card style="padding-bottom: 5%;">
            <div class="slds-clearfix">
                <div class=" slds-float_right slds-p-right_large">
                    <div class="slds-button-group" role="group">
                        <!-- <c-search-account></c-search-account> -->
                        <!-- <lightning-button variant="brand" label="Send SMS" title="Filter action" data-id="submit" onclick={bulkSmsHandler}
                            class="slds-m-left_x-small" icon-name="utility:sms" style="margin-right: 15px; cursor: pointer;">
                        </lightning-button> -->
                        <!-- <button class="slds-button slds-button_neutral">Save</button> -->
                        <button class="slds-button slds-button_neutral" onclick={openRecurringModal}>Recurring
                            Assignment</button>
                        <button class="slds-button slds-button_neutral" onclick={openSearchModal}>Search
                            Candidates</button>
                        <button class="slds-button slds-button_neutral" onclick={showPrefModalHandler}>Pref
                            Candidates</button>
                        <button class="slds-button slds-button_neutral" onclick={openModal}>Search By Location</button>
                        <button class="slds-button slds-button_neutral" onclick={bulkSmsHandler}>Send SMS</button>
                        <button class="slds-button slds-button_neutral" onclick={assignCandidate}>Assign
                            Candidate</button>
                        <!-- <div class="slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open slds-button_last">
                            <lightning-button class="slds-button slds-button_icon slds-button_icon-border-filled"
                                aria-haspopup="true" aria-expanded="true" title="Show More" icon-name="utility:down"
                                onclick={dropDownClicked}>
                                <span class="slds-assistive-text">Show More</span>
                            </lightning-button>
                            <template if:true={showDropDownIcon}>
                                <div class="slds-dropdown slds-dropdown_right slds-dropdown_actions">
                                    <ul class="slds-dropdown__list" role="menu">
                                        <li class="slds-dropdown__item" role="presentation">
                                            <a href="#" role="menuitem" tabindex="0">
                                                <span class="slds-truncate" title="Overflow Item One">Overflow Item One</span>
                                            </a>
                                        </li>
                                        <li class="slds-dropdown__item" role="presentation">
                                            <a href="#" role="menuitem" tabindex="-1">
                                                <span class="slds-truncate" title="Overflow Item Two">Overflow Item Two</span>
                                            </a>
                                        </li>
                                        <li class="slds-dropdown__item" role="presentation">
                                            <a href="#" role="menuitem" tabindex="-1">
                                                <span class="slds-truncate" title="Overflow Item Three">Overflow Item
                                                    Three</span>
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </template>
                        </div> -->
                    </div>
                </div>
            </div>

            <template if:true={smsPopup}>
                <!-- Modal/Popup Box LWC starts here -->
                <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open slds-modal_medium"
                    aria-labelledby="modal-heading-01" aria-modal="true">
                    <div class="slds-modal__container">


                        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-5"
                            style="padding:0%">
                            <iframe src={smsUrl} width="100%" height="700" style="border:none;">
                            </iframe>
                        </div>
                        <div class="slds-modal__footer">

                            <button class="slds-button slds-button_neutral" aria-label="Cancel and close"
                                onclick={closeSMSPopup} style="margin-left: 5px;">Close</button>

                        </div>
                    </div>
                </section>
                <div class="slds-backdrop slds-backdrop_open"></div>
            </template>

            <hr style="margin-top: 1%;" />
            <template if:true={hasChildShift}>
                <div>

                    <div
                        style="padding: 1%; display: flex; justify-content: space-between; margin-top: -40px; align-items: center; margin-right: -30px; margin-left: 10px;">
                        <h3 class="slds-text-heading_large" style="display: flex; justify-content: start;">
                            <b style="color: slategrey; font-size:15px; "> Recommended Candidate
                            </b>
                        </h3>
                        <div style="display: flex;">
                            <lightning-input type="text" placeholder="Search" style="margin-top: 7px;"
                                onchange={searchHandler}></lightning-input>
                            <div class="slds-float_right slds-p-right_large">
                                <div class="slds-p-around_large">
                                    <div class="slds-button-group " role="group">
                                        <lightning-button variant="neutral" title="first" label="First"
                                            class="slds-float_left" icon-name="utility:chevronleft" icon-position="left"
                                            onclick={handleClick}>
                                        </lightning-button>
                                        <lightning-button variant="neutral" title="Previous" label="Previous"
                                            class="slds-float_left" icon-name="utility:chevronleft" icon-position="left"
                                            onclick={handleClick}>
                                        </lightning-button>
                                        <lightning-button-group>
                                            <template for:each={pagelinks} for:item="page">
                                                <lightning-button key={page} label={page} onclick={handlePage}>
                                                </lightning-button>
                                            </template>
                                        </lightning-button-group>
                                        <lightning-button variant="neutral" title="next" class="slds-float_right"
                                            label="Next" icon-name="utility:chevronright" icon-position="right"
                                            onclick={handleClick}>
                                        </lightning-button>
                                        <lightning-button variant="neutral" title="last" class="slds-float_right"
                                            label="Last" icon-name="utility:chevronright" icon-position="right"
                                            onclick={handleClick}>
                                        </lightning-button>
                                        <div class="slds-dropdown-trigger slds-dropdown-trigger_click slds-button_last">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="margin-top: -2%;" class="slds-scrollable_x">

                        <table aria-multiselectable="true"
                            class="slds-table slds-table_bordered slds-table_fixed-layout slds-table_resizable-cols"
                            role="grid"
                            aria-label="Example advanced table of Opportunities in actionable mode with row selected">
                            <thead>
                                <tr class="slds-line-height_reset">
                                    <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                        style="width:2rem">
                                        <span id="column-group-header2" class="slds-assistive-text">Choose a row</span>
                                        <div class="slds-th__action slds-th__action_form">
                                            <div class="slds-checkbox">
                                                <input type="checkbox" name="choose-all" id="checkbox-unique-id-298"
                                                    value="checkbox-unique-id-298" checked={isAppliedShiftAllChecked}
                                                    tabindex="0"
                                                    aria-labelledby="check-select-all-label column-group-header"
                                                    onchange={selectAllHandler} />
                                                <label class="slds-checkbox__label" for="checkbox-unique-id-298"
                                                    id="check-select-all-label2">
                                                    <span class="slds-checkbox_faux"></span>
                                                    <span class="slds-form-element__label slds-assistive-text">Select
                                                        All</span>
                                                </label>
                                            </div>
                                        </div>
                                    </th>
                                    <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                        style="width:3rem">
                                        <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                            tabindex="0">
                                            <span class="slds-assistive-text">Sort by: </span>
                                            <div
                                                class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                <span class="slds-truncate" title="Profile">Profile</span>
                                            </div>
                                        </a>
                                        <div class="slds-resizable">
                                            <input type="range" aria-label="Name column width"
                                                class="slds-resizable__input slds-assistive-text"
                                                id="cell-resize-handle-539" max="1000" min="10" tabindex="0" />
                                            <span class="slds-resizable__handle">
                                                <span class="slds-resizable__divider"></span>
                                            </span>
                                        </div>
                                    </th>
                                    <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                        style="width:8rem">
                                        <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                            tabindex="0">
                                            <span class="slds-assistive-text">Sort by: </span>
                                            <div
                                                class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                <span class="slds-truncate" title="Name">Name</span>
                                                <span class="slds-icon_container slds-icon-utility-arrowdown">
                                                    <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon "
                                                        aria-hidden="true">
                                                        <use
                                                            xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown">
                                                        </use>
                                                    </svg>
                                                </span>
                                            </div>
                                        </a>
                                        <div class="slds-resizable">
                                            <input type="range" aria-label="Account Name column width"
                                                class="slds-resizable__input slds-assistive-text"
                                                id="cell-resize-handle-548" max="1000" min="20" tabindex="0" />
                                            <span class="slds-resizable__handle">
                                                <span class="slds-resizable__divider"></span>
                                            </span>
                                        </div>
                                    </th>
                                    <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                        style="width:10rem">
                                        <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                            tabindex="0">
                                            <span class="slds-assistive-text">Sort by: </span>
                                            <div
                                                class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                <span class="slds-truncate" title="Email">Email</span>
                                                <span class="slds-icon_container slds-icon-utility-arrowdown">
                                                    <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon "
                                                        aria-hidden="true">
                                                        <use
                                                            xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown">
                                                        </use>
                                                    </svg>
                                                </span>
                                            </div>
                                        </a>
                                        <div class="slds-resizable">
                                            <input type="range" aria-label="Account Name column width"
                                                class="slds-resizable__input slds-assistive-text"
                                                id="cell-resize-handle-email2" max="1000" min="20" tabindex="0" />
                                            <span class="slds-resizable__handle">
                                                <span class="slds-resizable__divider"></span>
                                            </span>
                                        </div>
                                    </th>
                                    <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                        style="width:6rem">
                                        <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                            tabindex="0">
                                            <span class="slds-assistive-text">Sort by: </span>
                                            <div
                                                class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                <span class="slds-truncate" title="Phone">Phone</span>
                                                <span class="slds-icon_container slds-icon-utility-arrowdown">
                                                    <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon "
                                                        aria-hidden="true">
                                                        <use
                                                            xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown">
                                                        </use>
                                                    </svg>
                                                </span>
                                            </div>
                                        </a>
                                        <div class="slds-resizable">
                                            <input type="range" aria-label="Account Name column width"
                                                class="slds-resizable__input slds-assistive-text"
                                                id="cell-resize-handle-phone" max="1000" min="20" tabindex="0" />
                                            <span class="slds-resizable__handle">
                                                <span class="slds-resizable__divider"></span>
                                            </span>
                                        </div>
                                    </th>
                                    <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                        style="width:6.5rem">
                                        <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                            tabindex="0">
                                            <span class="slds-assistive-text">Sort by: </span>
                                            <div
                                                class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                <span class="slds-truncate" title="Duration">Duration</span>
                                                <span class="slds-icon_container slds-icon-utility-arrowdown">
                                                    <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon "
                                                        aria-hidden="true">
                                                        <use
                                                            xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown">
                                                        </use>
                                                    </svg>
                                                </span>
                                            </div>
                                        </a>
                                        <div class="slds-resizable">
                                            <input type="range" aria-label="Close Date column width"
                                                class="slds-resizable__input slds-assistive-text"
                                                id="cell-resize-handle-542" max="1000" min="20" tabindex="0" />
                                            <span class="slds-resizable__handle">
                                                <span class="slds-resizable__divider"></span>
                                            </span>
                                        </div>
                                    </th>
                                    <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                        style="width:4.5rem">
                                        <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                            tabindex="0">
                                            <span class="slds-assistive-text">Sort by: </span>
                                            <div
                                                class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                <span class="slds-truncate" title="Match Score">Match Score</span>
                                                <span class="slds-icon_container slds-icon-utility-arrowdown">
                                                    <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon "
                                                        aria-hidden="true">
                                                        <use
                                                            xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown">
                                                        </use>
                                                    </svg>
                                                </span>
                                            </div>
                                        </a>
                                        <div class="slds-resizable">
                                            <input type="range" aria-label="Stage column width"
                                                class="slds-resizable__input slds-assistive-text"
                                                id="cell-resize-handle-545" max="1000" min="20" tabindex="0" />
                                            <span class="slds-resizable__handle">
                                                <span class="slds-resizable__divider"></span>
                                            </span>
                                        </div>
                                    </th>
                                    <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                        style="width:5rem">
                                        <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                            tabindex="0">
                                            <span class="slds-assistive-text">Sort by: </span>
                                            <div
                                                class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                <span class="slds-truncate" title="Confidence">Status</span>
                                                <span class="slds-icon_container slds-icon-utility-arrowdown">
                                                    <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon "
                                                        aria-hidden="true">
                                                        <use
                                                            xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown">
                                                        </use>
                                                    </svg>
                                                </span>
                                            </div>
                                        </a>
                                        <div class="slds-resizable">
                                            <input type="range" aria-label="Confidence column width"
                                                class="slds-resizable__input slds-assistive-text" max="1000" min="20"
                                                tabindex="0" />
                                            <span class="slds-resizable__handle">
                                                <span class="slds-resizable__divider"></span>
                                            </span>
                                        </div>
                                    </th>
                                    <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                        style="width:3rem">
                                        <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                            tabindex="0">
                                            <span class="slds-assistive-text">Sort by: </span>
                                            <div
                                                class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                <span class="slds-truncate" title="Confidence">Type</span>
                                                <span class="slds-icon_container slds-icon-utility-arrowdown">
                                                    <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon "
                                                        aria-hidden="true">
                                                        <use
                                                            xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown">
                                                        </use>
                                                    </svg>
                                                </span>
                                            </div>
                                        </a>
                                        <div class="slds-resizable">
                                            <input type="range" aria-label="Confidence column width"
                                                class="slds-resizable__input slds-assistive-text"
                                                id="cell-resize-handle-544" max="1000" min="20" tabindex="0" />
                                            <span class="slds-resizable__handle">
                                                <span class="slds-resizable__divider"></span>
                                            </span>
                                        </div>
                                    </th>
                                    <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                        style="width:4rem">
                                        <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                            tabindex="0">
                                            <span class="slds-assistive-text">Sort by: </span>
                                            <div
                                                class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                <span class="slds-truncate" title="Confidence">Action</span>
                                                <span class="slds-icon_container slds-icon-utility-arrowdown">
                                                    <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon "
                                                        aria-hidden="true">
                                                        <use
                                                            xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown">
                                                        </use>
                                                    </svg>
                                                </span>
                                            </div>
                                        </a>
                                        <div class="slds-resizable">
                                            <input type="range" aria-label="Confidence column width"
                                                class="slds-resizable__input slds-assistive-text"
                                                id="cell-resize-handle-554" max="1000" min="20" tabindex="0" />
                                            <span class="slds-resizable__handle">
                                                <span class="slds-resizable__divider"></span>
                                            </span>
                                        </div>
                                    </th>
                                </tr>
                            </thead>

                            <tbody class="slds-table slds-table_cell-buffer slds-table_bordered">
                                <template for:each={recordsToDisplay} for:item="con">
                                    <tr class="slds-table slds-table_cell-buffer slds-table_bordered" key={con.Id}>
                                        <th class="slds-cell_action-mode" scope="col">
                                            <div>
                                                <lightning-input type="checkbox" data-id={con.Id}
                                                    checked={con.isChecked} onchange={tableIndexChange}>
                                                </lightning-input>
                                            </div>
                                        </th>
                                        <th class="slds-cell_action-mode" scope="col">
                                            <div>
                                                <img style="width: 40px; height:40px; border-radius: 50%;"
                                                    src={con.profile}>
                                            </div>
                                        </th>
                                        <th class="slds-cell_action-mode" scope="col">
                                            <a data-id={con.Id} onclick={openCanidateDetailPage}>{con.name}</a>
                                        </th>
                                        <th class="slds-cell_action-mode" scope="col">
                                            <div>{con.email}</div>
                                        </th>
                                        <td role="gridcell" class="slds-cell-edit cellContainer" tabindex="-1"
                                            data-aura-rendered-by="2772:0">
                                            <div>
                                                <lightning-click-to-dial value={con.phone} record-id={con.Id}>
                                                </lightning-click-to-dial>
                                            </div>
                                        </td>
                                        <th class="slds-cell_action-mode" scope="col">
                                            <div>{con.sDate} - {con.eDate}</div>
                                        </th>
                                        <th class="slds-cell_action-mode" scope="col">
                                            <div style="display:flex;justify-content:center">{con.shiftScore}%</div>
                                        </th>
                                        <th class="slds-cell_action-mode" scope="col">
                                            {con.Status__c}
                                        </th>
                                        <th class="slds-cell_action-mode" scope="col">
                                            {con.Type__c}
                                        </th>

                                        <th class="slds-cell_action-mode" scope="col">
                                            <div
                                                style="display: flex; justify-content: space-between; cursor: pointer;">
                                                <lightning-button-icon title="Send SMS" onclick={openSendSmSPopup}
                                                    data-id={con.contactId} icon-name="utility:sms"
                                                    alternative-text="close" style="cursor: pointer;"
                                                    class="slds-m-left_xx-small" variant="brand">
                                                </lightning-button-icon>
                                                <lightning-button-icon title="Not Available" onclick={handleAction}
                                                    data-id={con.Id} data-action="Not Available"
                                                    data-status={con.Status__c} icon-name="utility:cancel_transfer"
                                                    alternative-text="close" style="cursor: pointer; margin-left: 3px;">
                                                </lightning-button-icon>
                                                <lightning-button-icon icon-name="utility:edit_form" title="Edit Shift" onclick={openCandidateEditShiftModal}
                                                    data-id={con.contactId} data-action="openEditShift" class="slds-m-left_xx-small" variant="inverse">
                                                </lightning-button-icon>
                                            </div>
                                        </th>
                                    </tr>
                                </template>
                            </tbody>
                        </table>
                        <!-- <lightning-datatable key-field="id" data={recommendedCandidates} columns={recommendedColumns}
                        onrowselection={selectedRecordsHandler}></lightning-datatable> -->
                    </div>
                </div>

                <!-- <div style="padding-left:2rem;padding-top:5rem;position:relative">
                <button class="slds-button" aria-describedby="help" aria-disabled="true" data-id="xyz" onmouseover={onMouseOver} onmouseout={onMouseOut}>Help Text</button>
                <div class="slds-popover slds-popover_tooltip slds-nubbin_bottom-left"  role="tooltip" data-chutiya="help"
                    style="position:absolute;top:-4px;left:35px; display:none">
                    <div class="slds-popover__body">Sit nulla est ex deserunt exercitation anim occaecat. Nostrud ullamco deserunt
                        aute id consequat veniam incididunt duis in sint irure nisi.</div>
                </div>
            </div> -->
            </template>
            <template if:false={hasChildShift}>
                <div style="display:flex; justify-content: center; width: 100%; margin-top: 5%; margin-bottom: 5%;">
                    <h1 style="text-align: center; font-size:18px">Recommended Candidates Not found!</h1>
                </div>
            </template>

            <template if:true={isViewOnMapModelOpen}>
                <!-- Modal/Popup Box LWC starts here -->
                <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open slds-modal_medium"
                    aria-labelledby="modal-heading-01" aria-modal="true">
                    <div class="slds-modal__container">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse">
                            <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
                                <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
                            </svg>
                            <span class="slds-assistive-text">Cancel and close</span>
                        </button>
                        <div class="slds-modal__header">
                            <h1 id="modal-heading-01" class="slds-modal__title slds-hyphenate">Candidate Available</h1>
                        </div>
                        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                            <c-candidate-search-map-temporary shift-name={selectedShiftName} lat={selectedShiftLat}
                                lang={selectedShiftLang} start-date={selectedShiftStartDate}
                                end-date={selectedShiftEndDate} error-msg={duplicacyMsg}
                                onmapselhandler={mapSelectionHandler}>
                            </c-candidate-search-map-temporary>
                        </div>
                        <div class="slds-modal__footer">

                            <!-- <button class="slds-button slds-button_brand">Save</button> -->
                            <template if:true={showButton}>
                                <lightning-button style="width: auto; margin-right: 5px;" variant="brand"
                                    label="Add Candidates" title="Filter action" data-id="map"
                                    onclick={handleAddCandidate} class="slds-m-left_x-small" icon-name="utility:add">
                                </lightning-button>
                            </template>
                            <button class="slds-button slds-button_neutral" aria-label="Cancel and close"
                                onclick={closeModal} style="margin-left: 5px;">Cancel</button>
                        </div>
                    </div>
                </section>
                <div class="slds-backdrop slds-backdrop_open"></div>
            </template>

            <template if:true={showPrefCandidates}>
                <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open slds-modal_medium"
                    aria-modal="true">
                    <div class="slds-modal__container">

                        <div class="slds-modal__header">
                            <h1 class="slds-modal__title slds-hyphenate">Preferred Candidates</h1>
                        </div>
                        <div class="slds-modal__content slds-p-around_medium">
                            <div style="padding:2%" class="slds-scrollable_x">

                                <table aria-multiselectable="true"
                                    class="slds-table slds-table_bordered slds-table_fixed-layout slds-table_resizable-cols"
                                    role="grid"
                                    aria-label="Example advanced table of Opportunities in actionable mode with row selected">
                                    <thead>
                                        <tr class="slds-line-height_reset">
                                            <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                                style="width:3rem">
                                                <span class="slds-assistive-text">Choose a row</span>
                                                <div class="slds-th__action slds-th__action_form">
                                                    <div class="slds-checkbox">
                                                        <lightning-input type="checkbox" value={isPrefAllSelected}
                                                            style="display:none" checked={isPrefAllSelected}
                                                            tabindex="0"
                                                            aria-labelledby="check-select-all-label column-group-header"
                                                            onchange={prefTableAllSelectedListener}>
                                                        </lightning-input>
                                                    </div>
                                                </div>
                                            </th>
                                            <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                                style="width:4rem">
                                                <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                                    tabindex="0">
                                                    <span class="slds-assistive-text">Sort by: </span>
                                                    <div
                                                        class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                        <span class="slds-truncate" title="Name">Pic</span>
                                                    </div>
                                                </a>
                                                <div class="slds-resizable">
                                                    <input type="range" aria-label="Name column width"
                                                        class="slds-resizable__input slds-assistive-text" max="1000"
                                                        min="10" tabindex="0" />
                                                    <span class="slds-resizable__handle">
                                                        <span class="slds-resizable__divider"></span>
                                                    </span>
                                                </div>
                                            </th>
                                            <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                                style="width:10rem">
                                                <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                                    tabindex="0">
                                                    <span class="slds-assistive-text">Sort by: </span>
                                                    <div
                                                        class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                        <span class="slds-truncate" title="Account Name">Name</span>
                                                        <span class="slds-icon_container slds-icon-utility-arrowdown">
                                                            <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon "
                                                                aria-hidden="true">
                                                                <use
                                                                    xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown">
                                                                </use>
                                                            </svg>
                                                        </span>
                                                    </div>
                                                </a>
                                                <div class="slds-resizable">
                                                    <input type="range" aria-label="Account Name column width"
                                                        class="slds-resizable__input slds-assistive-text" max="1000"
                                                        min="20" tabindex="0" />
                                                    <span class="slds-resizable__handle">
                                                        <span class="slds-resizable__divider"></span>
                                                    </span>
                                                </div>
                                            </th>
                                            <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                                style="width:13rem">
                                                <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                                    tabindex="0">
                                                    <span class="slds-assistive-text">Sort by: </span>
                                                    <div
                                                        class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                        <span class="slds-truncate" title="Account Name">Email</span>
                                                        <span class="slds-icon_container slds-icon-utility-arrowdown">
                                                            <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon "
                                                                aria-hidden="true">
                                                                <use
                                                                    xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown">
                                                                </use>
                                                            </svg>
                                                        </span>
                                                    </div>
                                                </a>
                                                <div class="slds-resizable">
                                                    <input type="range" aria-label="Account Name column width"
                                                        class="slds-resizable__input slds-assistive-text" max="1000"
                                                        min="20" tabindex="0" />
                                                    <span class="slds-resizable__handle">
                                                        <span class="slds-resizable__divider"></span>
                                                    </span>
                                                </div>
                                            </th>
                                            <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                                style="width:10rem">
                                                <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                                    tabindex="0">
                                                    <span class="slds-assistive-text">Sort by: </span>
                                                    <div
                                                        class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                        <span class="slds-truncate" title="Account Name">Phone</span>
                                                        <span class="slds-icon_container slds-icon-utility-arrowdown">
                                                            <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon "
                                                                aria-hidden="true">
                                                                <use
                                                                    xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown">
                                                                </use>
                                                            </svg>
                                                        </span>
                                                    </div>
                                                </a>
                                                <div class="slds-resizable">
                                                    <input type="range" aria-label="Account Name column width"
                                                        class="slds-resizable__input slds-assistive-text" max="1000"
                                                        min="20" tabindex="0" />
                                                    <span class="slds-resizable__handle">
                                                        <span class="slds-resizable__divider"></span>
                                                    </span>
                                                </div>
                                            </th>
                                            <!-- <th class="slds-text-align_right slds-cell_action-mode" scope="col" style="width:5rem">
                                                <a class="slds-th__action slds-text-link_reset" href="#" role="button" tabindex="0">
                                                    <span class="slds-assistive-text">Sort by: </span>
                                                    <div class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                        <span class="slds-truncate" title="Confidence">Action</span>
                                                    </div>
                                                </a>
                                            </th> -->
                                        </tr>
                                    </thead>

                                    <tbody class="slds-table slds-table_cell-buffer slds-table_bordered">
                                        <template for:each={prefCandidates} for:item="con">
                                            <tr class="slds-table slds-table_cell-buffer slds-table_bordered"
                                                key={con.contactId} data-id={con.contactId} onclick={prefClicked}>
                                                <th class="slds-cell_action-mode" scope="col" style="margin: 0px;">
                                                    <div>
                                                        <lightning-input type="checkbox" data-id={con.contactId}
                                                            checked={con.isChecked} onchange={prefTableRowListener}
                                                            disabled={con.isDisabled}></lightning-input>
                                                    </div>
                                                </th>
                                                <th class="slds-cell_action-mode" scope="col">
                                                    <div>
                                                        <img style="width: 40px; height:40px; border-radius: 50%;"
                                                            src={con.profile}>
                                                    </div>
                                                </th>
                                                <th class="slds-cell_action-mode" scope="col">
                                                    <a data-id={con.contactId}
                                                        onclick={openCanidateDetailPage}>{con.name}</a>
                                                </th>
                                                <th class="slds-cell_action-mode" scope="col">
                                                    <div>{con.email}</div>
                                                </th>
                                                <td role="gridcell" class="slds-cell-edit cellContainer" tabindex="-1"
                                                    data-aura-rendered-by="2772:0">
                                                    <div>
                                                        <lightning-click-to-dial value={con.phone}
                                                            record-id={con.contactId}>
                                                        </lightning-click-to-dial>
                                                    </div>
                                                </td>
                                                <!-- <th class="slds-cell_action-mode" scope="col">
                                                    <div style="display: flex; justify-content:center;">
                                                        <lightning-icon onclick={sendSMSPopupNewTab} data-id={con.Id}
                                                            icon-name="utility:sms" alternative-text="close" size="small"
                                                            style="cursor: pointer; --sds-c-icon-color-foreground-default: #355D96;">
                                                        </lightning-icon>
                                                    </div>
                                                </th> -->
                                            </tr>
                                        </template>
                                    </tbody>
                                </table>
                                <h1
                                    style="text-align: center; color: #ff2727; font-size:18px; margin-bottom:5px; margin-top:20px">
                                    {duplicacyMsg}</h1>
                            </div>
                        </div>
                        <div class="slds-modal__footer">

                            <template if:true={showPrefSelected}>
                                <lightning-button style="width: auto; margin-right: 5px;" variant="brand"
                                    label="Add Candidates" title="Filter action" data-id="pref"
                                    onclick={handleAddCandidate} class="slds-m-left_x-small" icon-name="utility:add">
                                </lightning-button>
                            </template>
                            <button class="slds-button slds-button_neutral" aria-label="Cancel and close"
                                onclick={showPrefModalHandler} style="margin-left: 5px;">Cancel</button>

                        </div>
                    </div>

                </section>
                <div class="slds-backdrop slds-backdrop_open"></div>
            </template>

            <template if:true={recurringModalOpen}>
                <c-recurring-candidate-dashboard job-id={jobId} candidate-selected={selectedRecords} onclosepopup={closeRecurringModal}>
                </c-recurring-candidate-dashboard>
            </template>
            <template if:true={isViewOnSearchModelOpen}>
                <!-- Modal/Popup Box LWC starts here -->
                <section role="dialog" tabindex="-1" class="slds-modal slds-fade-in-open slds-modal_medium"
                    aria-labelledby="modal-heading-02" aria-modal="true">
                    <div class="slds-modal__container">
                        <!-- <lightning-button style="width: auto; margin-right: 5px;" variant="brand" label="" title="Close me"
                                                            onclick={closeSearchModal} class="slds-m-left_x-small" icon-name="utility:close"></lightning-button> -->

                        <!-- <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse">
                                                            <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
                                                                <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
                                                            </svg>
                                                            <span class="slds-assistive-text">Cancel and close</span>
                                                        </button> -->
                        <div class="slds-modal__header">
                            <h1 id="modal-heading-02" class="slds-modal__title slds-hyphenate">Search Candidates</h1>
                        </div>


                        <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-2">
                            <!-- Add Search child here  -->

                            <div class=" slds-row">
                                <div style="display: flex; justify-content: space-between;">
                                    <lightning-accordion class="example-accordion"
                                        onsectiontoggle={handleSearchAccordion} active-section-name="B">
                                        <lightning-accordion-section name="B" label="Filter Candidates"
                                            onclick={handleSearchAccordion}>

                                        </lightning-accordion-section>
                                    </lightning-accordion>

                                    <div class="slds-col slds-size_2-of-8" style=" margin-left:1%; margin-top: 0.3%;">
                                        <span>
                                            <lightning-button variant="brand" label="Search Candidate"
                                                title="Filter action" onclick={handleSearchFilterCandidates}
                                                class="slds-m-left_x-small" icon-name="utility:search">
                                            </lightning-button>
                                        </span>
                                    </div>
                                </div>

                                <template if:true={openSearchAccordian}>
                                    <div class="slds-form">
                                        <div class="slds-form-element slds-form-element_stacked">
                                            <label class="slds-form-element__label" for="stacked-input-id-01"
                                                style="display: flex; justify-content: start; font-weight: bold;">Address</label>
                                            <div class="slds-form-element__control">
                                                <input type="text" id="stacked-input-id-01" placeholder="Enter City"
                                                    class="slds-input" onchange={handleCityChange} />
                                            </div>
                                        </div>

                                        <div class="slds-form-element slds-form-element_stacked">
                                            <label class="slds-form-element__label" for="stacked-input-id-01"
                                                style="display: flex; justify-content: start; font-weight: bold;">Year
                                                Of
                                                Experience</label>
                                            <lightning-combobox name="progress" value={selectedSearchExperience}
                                                placeholder="Select Experience" options={experienceList}
                                                onchange={selectedSearchExperienceHanlder}
                                                style="display: flex; justify-content: start; justify-items: start;">
                                            </lightning-combobox>
                                        </div>

                                        <fieldset class="slds-form-element slds-form-element_stacked">
                                            <legend class="slds-form-element__legend slds-form-element__label">Skills
                                            </legend>
                                            <lightning-dual-listbox name="languages" label="Select Skills"
                                                source-label="Available" selected-label="Selected"
                                                field-level-help="Select skills" options={skillsPicklistValue}
                                                onchange={handleChange}>
                                            </lightning-dual-listbox>
                                        </fieldset>
                                    </div>
                                </template>

                                <template if:true={filteredSearchConList}>
                                    <b
                                        style="display: flex; justify-content: start; margin-top: 2%; color: cornflowerblue;">Filtered
                                        Candidates {filteredSearchConListLength}</b>
                                </template>
                                <template for:each={filteredSearchConList} for:item="contact">

                                    <div key={contact.id} data-id={contact.id} class="slds-box"
                                        style="margin-top:1%; align-items: center;">
                                        <div class="slds-card__header slds-grid slds-p-around_none"
                                            style="margin: auto;">
                                            <header class="slds-media slds-media_center slds-has-flexi-truncate">
                                                <div class="slds-media__figure">
                                                    <span class="slds-avatar slds-avatar_profile-image-large">
                                                        <span class="slds-assistive-text">Person name</span>
                                                    </span>

                                                </div>
                                                <div class="slds-media__body slds-grid slds-gutters">
                                                    <div class="slds-size_7-of-8 slds-row" style="margin-left: 2%;">
                                                        <h2 class="slds-card__header-title">
                                                            <a href="#" class="slds-card__header-link slds-truncate"
                                                                title="Accounts">
                                                                <span>{contact.Name}</span>
                                                            </a>
                                                        </h2>
                                                        <template if:true={contact.score}>
                                                            <p data-formats="#0.0"
                                                                style="size: 1em; display: flex; justify-content: start;">
                                                                Matching Score -{contact.score} %</p>
                                                        </template>
                                                    </div>
                                                    <div class="slds-size_1-of-8"
                                                        style="display: flex; justify-content: center;">
                                                        <input type="checkbox" name={contact.id}
                                                            value="checkbox-unique-id-81" onclick={handleCheckBox} />
                                                    </div>
                                                </div>
                                            </header>
                                        </div>
                                        <template if:true={contact.description}>
                                            <div class="slds-card__body slds-card__body_inner">{contact.description}
                                            </div>
                                        </template>
                                        <footer class="slds-card__footer">
                                        </footer>
                                    </div>
                                </template>
                                <h1 style="text-align: center; color: #ff2727; font-size:18px; margin-bottom:20px">
                                    {duplicacyMsg}</h1>
                            </div>
                        </div>

                        <div class="slds-modal__footer">

                            <!-- <button class="slds-button slds-button_brand">Save</button> -->
                            <template if:true={showAddCandidateButtonInSearch}>
                                <lightning-button style="width: auto; margin-right: 5px;" variant="brand"
                                    label="Add Candidates" title="Filter action" data-id="search"
                                    onclick={handleAddCandidate} class="slds-m-left_x-small" icon-name="utility:add">
                                </lightning-button>
                            </template>
                            <button class="slds-button slds-button_neutral" aria-label="Cancel and close"
                                onclick={closeSearchModal} style="margin-left: 5px;">Cancel</button>
                        </div>
                    </div>
                </section>
                <div class="slds-backdrop slds-backdrop_open"></div>
            </template>

            <div style="margin-top: -3%;">

                <!--c-custom-Data-Table data={recordsToDisplay}></c-custom-Data-Table-->
                <template if:true={showBottomTable}>
                    <div slot="footer" style="padding:2%">
                        <div
                            style="display: flex; justify-content: space-between; margin-top: 3%; align-items: center;">

                            <h3 class="slds-text-heading_large" style="display: flex; justify-content: start;">
                                <b style="color: slategrey; font-size:15px; "> Searched Candidates
                                    {selectedContacts.length} </b>
                            </h3>
                            <div>
                                <div class="slds-float_right slds-p-right_large">
                                    <div class="slds-p-around_large">
                                        <div class="slds-button-group " role="group">
                                            <lightning-button variant="neutral" title="first" label="First"
                                                class="slds-float_left" icon-name="utility:chevronleft"
                                                icon-position="left" onclick={handleClick}>
                                            </lightning-button>
                                            <lightning-button variant="neutral" title="Previous" label="Previous"
                                                class="slds-float_left" icon-name="utility:chevronleft"
                                                icon-position="left" onclick={handleClick}></lightning-button>
                                            <lightning-button-group>
                                                <template for:each={pagelinks} for:item="page">
                                                    <lightning-button key={page} label={page} onclick={handlePage}>
                                                    </lightning-button>
                                                </template>
                                            </lightning-button-group>
                                            <lightning-button variant="neutral" title="next" class="slds-float_right"
                                                label="Next" icon-name="utility:chevronright" icon-position="right"
                                                onclick={handleClick}>
                                            </lightning-button>
                                            <lightning-button variant="neutral" title="last" class="slds-float_right"
                                                label="Last" icon-name="utility:chevronright" icon-position="right"
                                                onclick={handleClick}>
                                            </lightning-button>
                                            <div
                                                class="slds-dropdown-trigger slds-dropdown-trigger_click slds-button_last">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div style="margin-top: -2%;">
                            <div style="margin-top: 2%;">

                                <table aria-multiselectable="true"
                                    class="slds-table slds-table_bordered slds-table_fixed-layout slds-table_resizable-cols"
                                    role="grid"
                                    aria-label="Example advanced table of Opportunities in actionable mode with row selected">
                                    <thead>
                                        <tr class="slds-line-height_reset">
                                            <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                                style="width:2.25rem">
                                                <span id="column-group-header3" class="slds-assistive-text">Choose a
                                                    row</span>
                                                <div class="slds-th__action slds-th__action_form">
                                                    <div class="slds-checkbox">
                                                        <input type="checkbox" name="choose-all"
                                                            id="checkbox-unique-id-296" value="checkbox-unique-id-297"
                                                            checked={searchAllShiftSelected} tabindex="0"
                                                            aria-labelledby="check-select-all-label column-group-header"
                                                            onchange={searchSelectAllHandler} />
                                                        <label class="slds-checkbox__label" for="checkbox-unique-id-296"
                                                            id="check-select-all-label3">
                                                            <span class="slds-checkbox_faux"></span>
                                                            <span
                                                                class="slds-form-element__label slds-assistive-text">Select
                                                                All</span>
                                                        </label>
                                                    </div>
                                                </div>
                                            </th>
                                            <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                                style="width:4.5rem">
                                                <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                                    tabindex="0">
                                                    <span class="slds-assistive-text">Sort by: </span>
                                                    <div
                                                        class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                        <span class="slds-truncate" title="Name">Profile</span>
                                                    </div>
                                                </a>
                                                <div class="slds-resizable">
                                                    <input type="range" aria-label="Name column width"
                                                        class="slds-resizable__input slds-assistive-text"
                                                        id="cell-resize-handle-540" max="1000" min="10" tabindex="0" />
                                                    <span class="slds-resizable__handle">
                                                        <span class="slds-resizable__divider"></span>
                                                    </span>
                                                </div>
                                            </th>
                                            <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                                style="width:13rem">
                                                <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                                    tabindex="0">
                                                    <span class="slds-assistive-text">Sort by: </span>
                                                    <div
                                                        class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                        <span class="slds-truncate" title="Account Name">Name</span>
                                                        <span class="slds-icon_container slds-icon-utility-arrowdown">
                                                            <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon "
                                                                aria-hidden="true">
                                                                <use
                                                                    xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown">
                                                                </use>
                                                            </svg>
                                                        </span>
                                                    </div>
                                                </a>
                                                <div class="slds-resizable">
                                                    <input type="range" aria-label="Account Name column width"
                                                        class="slds-resizable__input slds-assistive-text"
                                                        id="cell-resize-handle-552" max="1000" min="20" tabindex="0" />
                                                    <span class="slds-resizable__handle">
                                                        <span class="slds-resizable__divider"></span>
                                                    </span>
                                                </div>
                                            </th>
                                            <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                                style="width:13rem">
                                                <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                                    tabindex="0">
                                                    <span class="slds-assistive-text">Sort by: </span>
                                                    <div
                                                        class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                        <span class="slds-truncate" title="Account Name">Email</span>
                                                        <span class="slds-icon_container slds-icon-utility-arrowdown">
                                                            <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon "
                                                                aria-hidden="true">
                                                                <use
                                                                    xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown">
                                                                </use>
                                                            </svg>
                                                        </span>
                                                    </div>
                                                </a>
                                                <div class="slds-resizable">
                                                    <input type="range" aria-label="Account Name column width"
                                                        class="slds-resizable__input slds-assistive-text"
                                                        id="cell-resize-handle-email" max="1000" min="20"
                                                        tabindex="0" />
                                                    <span class="slds-resizable__handle">
                                                        <span class="slds-resizable__divider"></span>
                                                    </span>
                                                </div>
                                            </th>
                                            <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                                style="width:10rem">
                                                <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                                    tabindex="0">
                                                    <span class="slds-assistive-text">Sort by: </span>
                                                    <div
                                                        class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                        <span class="slds-truncate" title="Account Name">Phone</span>
                                                        <span class="slds-icon_container slds-icon-utility-arrowdown">
                                                            <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon "
                                                                aria-hidden="true">
                                                                <use
                                                                    xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown">
                                                                </use>
                                                            </svg>
                                                        </span>
                                                    </div>
                                                </a>
                                                <div class="slds-resizable">
                                                    <input type="range" aria-label="Account Name column width"
                                                        class="slds-resizable__input slds-assistive-text"
                                                        id="cell-resize-handle-phone2" max="1000" min="20"
                                                        tabindex="0" />
                                                    <span class="slds-resizable__handle">
                                                        <span class="slds-resizable__divider"></span>
                                                    </span>
                                                </div>
                                            </th>
                                            <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                                style="width:10rem">
                                                <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                                    tabindex="0">
                                                    <span class="slds-assistive-text">Sort by: </span>
                                                    <div
                                                        class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                        <span class="slds-truncate" title="Close Date">StartTime</span>
                                                        <span class="slds-icon_container slds-icon-utility-arrowdown">
                                                            <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon "
                                                                aria-hidden="true">
                                                                <use
                                                                    xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown">
                                                                </use>
                                                            </svg>
                                                        </span>
                                                    </div>
                                                </a>
                                                <div class="slds-resizable">
                                                    <input type="range" aria-label="Close Date column width"
                                                        class="slds-resizable__input slds-assistive-text"
                                                        id="cell-resize-handle-562" max="1000" min="20" tabindex="0" />
                                                    <span class="slds-resizable__handle">
                                                        <span class="slds-resizable__divider"></span>
                                                    </span>
                                                </div>
                                            </th>
                                            <th class="slds-text-align_right slds-cell_action-mode" scope="col"
                                                style="width:10rem">
                                                <a class="slds-th__action slds-text-link_reset" href="#" role="button"
                                                    tabindex="0">
                                                    <span class="slds-assistive-text">Sort by: </span>
                                                    <div
                                                        class="slds-grid slds-grid_vertical-align-center slds-has-flexi-truncate">
                                                        <span class="slds-truncate" title="Stage">EndTime</span>
                                                        <span class="slds-icon_container slds-icon-utility-arrowdown">
                                                            <svg class="slds-icon slds-icon-text-default slds-is-sortable__icon "
                                                                aria-hidden="true">
                                                                <use
                                                                    xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#arrowdown">
                                                                </use>
                                                            </svg>
                                                        </span>
                                                    </div>
                                                </a>
                                                <div class="slds-resizable">
                                                    <input type="range" aria-label="Stage column width"
                                                        class="slds-resizable__input slds-assistive-text"
                                                        id="cell-resize-handle-543" max="1000" min="20" tabindex="0" />
                                                    <span class="slds-resizable__handle">
                                                        <span class="slds-resizable__divider"></span>
                                                    </span>
                                                </div>
                                            </th>
                                        </tr>
                                    </thead>

                                    <tbody class="slds-table slds-table_cell-buffer slds-table_bordered">
                                        <template for:each={selectedContacts} for:item="con">
                                            <tr class="slds-table slds-table_cell-buffer slds-table_bordered"
                                                key={con.Id}>
                                                <th class="slds-cell_action-mode" scope="col">
                                                    <div>
                                                        <lightning-input type="checkbox" data-id={con.Id}
                                                            checked={con.isChecked} onchange={searchTableRowListener}>
                                                        </lightning-input>
                                                    </div>
                                                </th>
                                                <th class="slds-cell_action-mode" scope="col">
                                                    <div>
                                                        <img style="width: 40px; height:40px; border-radius: 50%;"
                                                            src={con.profile}>
                                                    </div>
                                                </th>
                                                <th class="slds-cell_action-mode" scope="col">
                                                    <a data-id={con.contactId}
                                                        onclick={openCanidateDetailPage}>{con.name}</a>
                                                </th>
                                                <th class="slds-cell_action-mode" scope="col">
                                                    <div>{con.email}</div>
                                                </th>
                                                <td role="gridcell" class="slds-cell-edit cellContainer" tabindex="-1"
                                                    data-aura-rendered-by="2772:0">
                                                    <div>
                                                        <lightning-click-to-dial value={con.phone} record-id={con.Id}>
                                                        </lightning-click-to-dial>
                                                    </div>
                                                </td>
                                                <!-- <th class="slds-cell_action-mode" scope="col">
                                                    <div>{con.phone}   <lightning-icon icon-name="utility:call" size="x-small" style="cursor:pointer;"></lightning-icon></div>
                                                </th> -->
                                                <th class="slds-cell_action-mode" scope="col">
                                                    <div>{con.startDate}</div>
                                                </th>
                                                <th class="slds-cell_action-mode" scope="col">
                                                    <div>{con.endDate}</div>
                                                </th>
                                                <!-- <th class="slds-cell_action-mode" scope="col">
                                                    <div>{con.Status__c}</div>
                                                </th> -->
                                            </tr>
                                        </template>
                                    </tbody>
                                </table>
                                <!-- <lightning-datatable key-field="id" data={recommendedCandidates} columns={recommendedColumns}
                                                    onrowselection={selectedRecordsHandler}></lightning-datatable> -->
                            </div>
                            <!-- <lightning-datatable key-field="Id" data={selectedContacts} columns={columns}
                             onrowselection={selectedTableRowHanlder}>
                            </lightning-datatable> -->
                        </div>
                    </div>
                </template>

                <br />
            </div>
        </lightning-card>
    </template>
    <template if:false={loaded}>
        <lightning-spinner alternative-text="Loading"></lightning-spinner>
    </template>
</template>